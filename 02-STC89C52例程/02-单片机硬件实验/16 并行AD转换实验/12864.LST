C51 COMPILER V9.54   12864                                                                 06/05/2024 23:08:24 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE 12864
OBJECT MODULE PLACED IN 12864.OBJ
COMPILER INVOKED BY: D:\51project\Keil_v5\keil\C51\BIN\C51.EXE 12864.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\16 ²¢ÐÐAD×ª»»Ê
                    -µÑé) DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*************************************************************/
   2          /********************* 12864Í¼ÐÎÒº¾§ÏÔÊ¾ÎÄ¼þ *****************/
   3          /*************************************************************/
   4          /************************* ×÷Õß£ºXHCH ************************/
   5          /*************************************************************/
   6          /******************* ÐÞ¸ÄÈÕÆÚ£º2012Äê2ÔÂ1ÈÕ ******************/
   7          /*************************************************************/
   8          #define uchar unsigned char
   9          #define uint  unsigned int
  10          
  11          
  12          sbit LCD_E = P2^4;      //¶¨Òå¹Ü½Å
*** ERROR C202 IN LINE 12 OF 12864.c: 'P2': undefined identifier
  13          sbit LCD_RW = P2^3;
*** ERROR C202 IN LINE 13 OF 12864.c: 'P2': undefined identifier
  14          sbit LCD_RS = P2^2;
*** ERROR C202 IN LINE 14 OF 12864.c: 'P2': undefined identifier
  15          sbit LCD_CS2 = P2^1;
*** ERROR C202 IN LINE 15 OF 12864.c: 'P2': undefined identifier
  16          sbit LCD_CS1 = P2^0;
*** ERROR C202 IN LINE 16 OF 12864.c: 'P2': undefined identifier
  17          #define  Data_Port P0
  18          
  19          uchar code Dot[][32] =        // Êý¾Ý±í
  20          {
  21          
  22          //-- Ä£ --
  23                {0x10,0x10,0xD0,0xFF,0x94,0x14,0xE4,0xBF,0xA4,0xA4,0xA4,0xBF,0xF4,0x26,0x04,0x00,
  24                0x84,0x83,0x80,0xFF,0x88,0x89,0x8B,0xCA,0xAA,0x9E,0xAA,0xAA,0xCB,0xC8,0xC8,0x80},
  25          //-- Äâ --
  26                {0x10,0x10,0x10,0xFF,0x90,0x50,0xF8,0x00,0x04,0x18,0x30,0x00,0xFE,0x00,0x00,0x00,
  27                0x82,0xC2,0x81,0xFF,0x80,0x80,0xBF,0x90,0x88,0xC4,0xA0,0x90,0x8F,0x90,0xE0,0x80},
  28          //-- µç --
  29                {0x00,0xF8,0x48,0x48,0x48,0x48,0xFF,0x48,0x48,0x48,0x48,0xFC,0x08,0x00,0x00,0x00,
  30                0x80,0x87,0x82,0x82,0x82,0x82,0xBF,0xC2,0xC2,0xC2,0xC2,0xC7,0xC0,0xF0,0x80,0x80},
  31          //-- Ñ¹ --
  32                {0x00,0x00,0xFE,0x02,0x82,0x82,0x82,0x82,0xFE,0x82,0x82,0x82,0xC3,0x82,0x00,0x00,
  33                0xC0,0xB0,0x8F,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xC0,0xC2,0xC4,0xCC,0xE0,0xC0,0x80},
  34          //-- ²â --
  35                {0x10,0x22,0x6C,0x00,0x80,0xFC,0x04,0xF4,0x04,0xFE,0x04,0xF8,0x00,0xFE,0x00,0x00,
  36                0x84,0x84,0xFE,0x81,0xC0,0xA7,0x90,0x8F,0x90,0xE7,0x80,0xC7,0x80,0xFF,0x80,0x80},
  37          //-- Á¿ --
  38                {0x20,0x20,0x20,0xBE,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xBF,0x22,0x30,0x20,0x00,
  39                0x80,0x80,0x80,0xAF,0xAA,0xAA,0xAA,0xFF,0xAA,0xAA,0xAA,0xAF,0x80,0x80,0x80,0x80}
  40          };
  41          
  42          
  43          uchar code num[][16] =              // ASCII
  44          {
  45          
  46            {0xF8,0xFC,0x04,0xC4,0x24,0xFC,0xF8,0x00,0x87,0x8F,0x89,0x88,0x88,0x8F,0x87,0x80}, // -0-
  47          
  48            {0x00,0x10,0x18,0xFC,0xFC,0x00,0x00,0x00,0x80,0x88,0x88,0x8F,0x8F,0x88,0x88,0x80}, // -1-
  49          
C51 COMPILER V9.54   12864                                                                 06/05/2024 23:08:24 PAGE 2   

  50            {0x08,0x0C,0x84,0xC4,0x64,0x3C,0x18,0x00,0x8E,0x8F,0x89,0x88,0x88,0x8C,0x8C,0x80}, // -2-
  51          
  52            {0x08,0x0C,0x44,0x44,0x44,0xFC,0xB8,0x00,0x84,0x8C,0x88,0x88,0x88,0x8F,0x87,0x80}, // -3-
  53          
  54            {0xC0,0xE0,0xB0,0x98,0xFC,0xFC,0x80,0x00,0x80,0x80,0x80,0x88,0x8F,0x8F,0x88,0x80}, // -4-
  55          
  56            {0x7C,0x7C,0x44,0x44,0xC4,0xC4,0x84,0x00,0x84,0x8C,0x88,0x88,0x88,0x8F,0x87,0x80}, // -5-
  57          
  58            {0xF0,0xF8,0x4C,0x44,0x44,0xC0,0x80,0x00,0x87,0x8F,0x88,0x88,0x88,0x8F,0x87,0x80}, // -6-
  59          
  60            {0x0C,0x0C,0x04,0x84,0xC4,0x7C,0x3C,0x00,0x80,0x80,0x8F,0x8F,0x80,0x80,0x80,0x80}, // -7-
  61          
  62            {0xB8,0xFC,0x44,0x44,0x44,0xFC,0xB8,0x00,0x87,0x8F,0x88,0x88,0x88,0x8F,0x87,0x80}, // -8-
  63          
  64            {0x38,0x7C,0x44,0x44,0x44,0xFC,0xF8,0x00,0x80,0x88,0x88,0x88,0x8C,0x87,0x83,0x80}, // -9-
  65          
  66            {0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x80,0x80,0x80,0x86,0x86,0x80,0x80,0x80}, // -:-
  67            
  68            {0xE0,0xE0,0x60,0xC0,0x60,0xE0,0xC0,0x00,0x8F,0x8F,0x80,0x8F,0x80,0x8F,0x8F,0x80}, // -m-
  69          
  70            {0x00,0xE0,0xE0,0x00,0x00,0xE0,0xE0,0x00,0x80,0x83,0x87,0x8C,0x8C,0x87,0x83,0x80}  // -v-
  71          };
  72          
  73          /*-------------------------------------------------------
  74          º¯ÊýÃû³Æ: Write_Com()
  75          º¯Êý¹¦ÄÜ: ÏòLCD12864ÀïÐ´ÃüÁî
  76          ²ÎÊý    : left  ×ó±ßÐ¾Æ¬Ñ¡Í¨Î»
  77          right ÓÒ±ßÐ¾Æ¬Ñ¡Í¨Î»
  78          Com  ÒªÐ´µÄÃüÁî
  79          ·µ»ØÖµ  : ÎÞ
  80          ---------------------------------------------------------*/
  81          void Write_Com(uchar com)
  82          {
  83   1      
  84   1        LCD_E=0;
*** ERROR C202 IN LINE 84 OF 12864.c: 'LCD_E': undefined identifier
  85   1        LCD_RS=0;
*** ERROR C202 IN LINE 85 OF 12864.c: 'LCD_RS': undefined identifier
  86   1        LCD_E=1; 
*** ERROR C202 IN LINE 86 OF 12864.c: 'LCD_E': undefined identifier
  87   1        Data_Port=com;  
*** ERROR C202 IN LINE 87 OF 12864.c: 'P0': undefined identifier
  88   1      }
  89          /*-------------------------------------------------------
  90          º¯ÊýÃû³Æ: Write_Data()
  91          º¯Êý¹¦ÄÜ: ÏòLCD12864ÀïÐ´Êý¾Ý
  92          ²ÎÊý    : left  ×ó±ßÐ¾Æ¬Ñ¡Í¨Î»
  93          right ÓÒ±ßÐ¾Æ¬Ñ¡Í¨Î»
  94          Data  ÒªÐ´µÄÊý¾Ý
  95          ·µ»ØÖµ  : ÎÞ
  96          ---------------------------------------------------------*/
  97          void Write_Data(uchar Data)
  98          {
  99   1      
 100   1        LCD_E=0;
*** ERROR C202 IN LINE 100 OF 12864.c: 'LCD_E': undefined identifier
 101   1        LCD_RS=1;
*** ERROR C202 IN LINE 101 OF 12864.c: 'LCD_RS': undefined identifier
 102   1        LCD_E=1;
*** ERROR C202 IN LINE 102 OF 12864.c: 'LCD_E': undefined identifier
 103   1        Data_Port=Data;  
*** ERROR C202 IN LINE 103 OF 12864.c: 'P0': undefined identifier
C51 COMPILER V9.54   12864                                                                 06/05/2024 23:08:24 PAGE 3   

 104   1      }
 105          /*-----------------------------------------
 106          º¯ÊýÃû³Æ: LCD12864_Disp()
 107          º¯Êý¹¦ÄÜ: ÔÚÈÎÒâÎ»ÖÃÉÏÏÔÊ¾ºº×Ö
 108          ²ÎÊý    : X XµØÖ·Î»ÖÃ 
 109          Y YµØÖ·Î»ÖÃ 
 110          *P Ö¸Õë Êý¾ÝµÄÊ×µØÖ·
 111          ·µ»ØÖµ  : ÎÞ
 112          ------------------------------------------*/
 113          void LCD12864_Disp(uchar x, uchar y, uchar *p )
 114          {
 115   1        uchar i,j;
 116   1        char k;
 117   1      
 118   1        for(i=0;i<32;i++)
 119   1        {
 120   2          if(i>=16)
 121   2          {
 122   3            j=1;
 123   3            k=-16;
 124   3          }
 125   2          else j=0,k=0;
 126   2          Write_Com(0xb8+j+x);     //ÉèÖÃXµØÖ·
 127   2          Write_Com(0x40+i+y+k);   //ÉèÖÃYµØÖ·
 128   2          Write_Data(p[i]);        //ËÍÊý¾Ý
 129   2        }
 130   1      
 131   1      }
 132          /*-----------------------------------------
 133          º¯ÊýÃû³Æ: LCD12864_DispNum()
 134          º¯Êý¹¦ÄÜ: ÔÚÈÎÒâÎ»ÖÃÉÏÏÔÊ¾Êý×Ö
 135          ²ÎÊý    : X XµØÖ·Î»ÖÃ 
 136          Y YµØÖ·Î»ÖÃ 
 137          *P Ö¸Õë Êý¾ÝµÄÊ×µØÖ·
 138          ·µ»ØÖµ  : ÎÞ
 139          ------------------------------------------*/
 140          void LCD12864_DispNum(uchar x, uchar y, uchar *p )
 141          {
 142   1        uchar i,j;
 143   1        char k;
 144   1        for(i=0;i<16;i++)
 145   1        {    
 146   2          if(i>=8)
 147   2          {
 148   3          j=1;
 149   3          k=-8;
 150   3          }
 151   2          else j=0,k=0;
 152   2          Write_Com(0xb8+x+j); //ÉèÖÃXµØÖ·
 153   2          Write_Com(0x40+i+y+k);//ÉèÖÃYµØÖ·
 154   2          Write_Data(p[i]);//ËÍÊý¾Ý
 155   2        }
 156   1      }
 157          /*-------------------------------------------------------
 158          º¯ÊýÃû³Æ: LCD12864_Init()
 159          º¯Êý¹¦ÄÜ: LCD12864³õÊ¼»¯
 160          ²ÎÊý    : 
 161          ·µ»ØÖµ  : ÎÞ
 162          ---------------------------------------------------------*/
 163          void LCD12864_Init()
 164          {
 165   1        Data_Port=0xFF;
C51 COMPILER V9.54   12864                                                                 06/05/2024 23:08:24 PAGE 4   

*** ERROR C202 IN LINE 165 OF 12864.c: 'P0': undefined identifier
 166   1        LCD_CS1=0;
*** ERROR C202 IN LINE 166 OF 12864.c: 'LCD_CS1': undefined identifier
 167   1        LCD_CS2=0;
*** ERROR C202 IN LINE 167 OF 12864.c: 'LCD_CS2': undefined identifier
 168   1        LCD_E=1;
*** ERROR C202 IN LINE 168 OF 12864.c: 'LCD_E': undefined identifier
 169   1        LCD_RW=0;
*** ERROR C202 IN LINE 169 OF 12864.c: 'LCD_RW': undefined identifier
 170   1        Write_Com(0x3e);//ÏÔÊ¾¹Ø
 171   1        Write_Com(0x3f);//ÏÔÊ¾¿ª
 172   1        Write_Com(0xc0);//ÏÔÊ¾ÆðÊ¼ÐÐ
 173   1        Write_Com(0xb8);//ÉèÖÃXµØÖ·
 174   1        Write_Com(0x40);//ÉèÖÃYµØÖ· ¡¢
 175   1        
 176   1      
 177   1      }
 178          /*---------------------------------------------------
 179          º¯ÊýÃû³Æ: LCD12864_Clear()
 180          º¯Êý¹¦ÄÜ: ÇåÆÁ
 181          ²ÎÊý    : left  Çå×óÆÁ
 182          right ÇåÓÒÆÁ
 183          ·µ»ØÖµ  £ºÎÞ
 184          ¡¾ËµÃ÷¡¿ : 0 0  ²»ÇåÆÁ  11  ÇåÈ«ÆÁ
 185          0 1  ÇåÓÒÆÁ  10  Çå×óÆÁ
 186          -----------------------------------------------------*/
 187          void LCD12864_Clear()
 188          {
 189   1        uchar aa,bb;//aa¿ØÖÆXµØÖ· bb¿ØÖÆYµØÖ·
 190   1      
 191   1          for(aa=0;aa<8;aa++)
 192   1          {
 193   2            Write_Com(0xb8+aa);
 194   2            LCD_CS1=0;
*** ERROR C202 IN LINE 194 OF 12864.c: 'LCD_CS1': undefined identifier
 195   2            LCD_CS2=1;
*** ERROR C202 IN LINE 195 OF 12864.c: 'LCD_CS2': undefined identifier
 196   2            for(bb=0;bb<64;bb++)
 197   2            {
 198   3              Write_Data(0x00);
 199   3            }
 200   2            LCD_CS1=1;
*** ERROR C202 IN LINE 200 OF 12864.c: 'LCD_CS1': undefined identifier
 201   2            LCD_CS2=0;
*** ERROR C202 IN LINE 201 OF 12864.c: 'LCD_CS2': undefined identifier
 202   2            for(bb=0;bb<64;bb++)
 203   2            {
 204   3      
 205   3              Write_Data(0x00);
 206   3            } 
 207   2          }
 208   1       
 209   1      }
 210           void Display()
 211          {
 212   1        LCD_CS1=0;
*** ERROR C202 IN LINE 212 OF 12864.c: 'LCD_CS1': undefined identifier
 213   1        LCD_CS2=1;
*** ERROR C202 IN LINE 213 OF 12864.c: 'LCD_CS2': undefined identifier
 214   1        LCD12864_Disp(1,16,Dot[0]);                
 215   1        LCD12864_Disp(1,32,Dot[1]);                
 216   1        LCD12864_Disp(1,48,Dot[2]);
C51 COMPILER V9.54   12864                                                                 06/05/2024 23:08:24 PAGE 5   

 217   1        LCD_CS1=1;
 218   1        LCD_CS2=0;                  
 219   1        LCD12864_Disp(1,0,Dot[3]);                  
 220   1        LCD12864_Disp(1,16,Dot[4]);
 221   1        LCD12864_Disp(1,32,Dot[5]);
 222   1        LCD_CS1=0;
 223   1        LCD_CS2=1;
 224   1        LCD12864_Disp(4,24,Dot[2]);                
 225   1        LCD12864_Disp(4,40,Dot[3]);
 226   1        LCD12864_DispNum(4,56,num[10]);
 227   1        LCD_CS1=1;
 228   1        LCD_CS2=0;                  
 229   1        LCD12864_DispNum(4,32,num[11]);                
 230   1        LCD12864_DispNum(4,40,num[12]);
 231   1      
 232   1      }
 233          void display(float dis2)
 234          {
 235   1        uint dis,a,b,c,d;
 236   1        dis2*=5000;
 237   1        dis = (uint)dis2;
 238   1        a = dis/1000;
 239   1        b = dis/100%10;
 240   1        c = dis/10%10;
 241   1        d = dis%10;
 242   1        LCD_CS1=1;
 243   1        LCD_CS2=0;                  
 244   1        LCD12864_DispNum(4,0,num[a]);
 245   1        LCD12864_DispNum(4,8,num[b]);                
 246   1        LCD12864_DispNum(4,16,num[c]);
 247   1        LCD12864_DispNum(4,24,num[d]);
 248   1      }
 249          
 250             

C51 COMPILATION COMPLETE.  0 WARNING(S),  24 ERROR(S)
