/***************************************************************************
实验名称： 图形液晶显示实验

实验模块:  51单片机核心板、液晶显示区

实验接线： 51单片机核心板------液晶显示区
				 P2.0--------------CS1
				 P2.1--------------CS2
				 P2.2--------------CS
				 P2.3--------------RW
				 P2.4--------------E
			P0.0~P0.7--------------DB0~DB7
				
						
现象描述：12864显示测试字符

更新时间：2017.10.17
***************************************************************************/
#include <reg52.h>		//添加库文件


#define uint unsigned int
#define uchar unsigned char
#define ulong unsigned long


sbit LCD_E = P3^4;			//定义管脚
sbit LCD_RW = P2^3;
sbit LCD_RS = P2^2;
sbit LCD_CS2 = P2^1;
sbit LCD_CS1 = P2^0;
#define  Data_Port P0

uchar disp_x = 0xb8	;
uchar disp_z = 0xc0	;
uchar disp_y = 0x40	;

uchar code dis[] = {
	0x00,0x00,0x24,0x44,0x84,0x64,0x1C,0x20,0x18,0x0F,0xE8,0x08,0x28,0x18,0x00,0x40, 
	0x42,0xCC,0x00,0xFC,0x04,0x02,0x00,0xFC,0x04,0x04,0x04,0xFC,0x00,0x20,0x10,0xFC, 
	0x03,0xF4,0x94,0x94,0x94,0xFF,0x94,0x94,0x94,0xF4,0x00,0x00,0x00,0xFE,0x22,0x22, 
	0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0xFE,0x00,0x20,0x21,0xE6,0x00,0x00,0xF9,0x49, 
	0x4B,0xFD,0x4D,0x4B,0xF9,0x00,0x00,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0xFE,0x22, 
	0x22,0x22,0x22,0xFE,0x00,0x00,0x00,0xFC,0x25,0x26,0x24,0xFC,0x24,0x26,0x25,0xFC, 
	0x00,0x00,0x00,0x00,0x00,0xFE,0x10,0x10,0x10,0x10,0x10,0x1F,0x10,0x10,0x10,0x00, 
	0x00,0x08,0xC8,0xFF,0x48,0x88,0x00,0xFE,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00, 
	0x00,0x10,0x08,0x06,0x01,0x03,0x0C,0x20,0x10,0x0C,0x03,0x0C,0x10,0x20,0x00,0x20, 
	0x10,0x0F,0x10,0x27,0x22,0x21,0x20,0x3F,0x20,0x22,0x22,0x23,0x00,0x00,0x00,0x3F, 
	0x00,0x20,0x11,0x0A,0x04,0x0B,0x10,0x10,0x20,0x20,0x00,0x20,0x18,0x07,0x01,0x01, 
	0x01,0x01,0x1F,0x01,0x01,0x21,0x21,0x3F,0x00,0x20,0x10,0x0F,0x10,0x20,0x2F,0x22, 
	0x22,0x2F,0x22,0x2A,0x2F,0x20,0x00,0x20,0x18,0x07,0x01,0x01,0x01,0x01,0x1F,0x01, 
	0x01,0x21,0x21,0x3F,0x00,0x08,0x08,0x09,0x09,0x09,0x09,0x3F,0x09,0x09,0x09,0x09, 
	0x08,0x08,0x00,0x20,0x10,0x0F,0x01,0x01,0x01,0x01,0x01,0x01,0x3F,0x00,0x00,0x00, 
	0x00,0x01,0x00,0x3F,0x00,0x20,0x18,0x07,0x00,0x00,0x00,0x1F,0x20,0x38,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x0C,0x04,0x44,0x84,0x14,0x25,0x06,0x04,0xF4,0x04,0x04,0x04, 
	0x0C,0x00,0xF2,0x82,0xFE,0x80,0x20,0x10,0x28,0xA4,0x23,0x24,0x28,0x90,0x20,0x00, 
	0x22,0x24,0x10,0x7F,0x00,0x44,0xA4,0x24,0x3F,0x24,0x24,0x24,0x04,0x00,0x00,0x2F, 
	0xA9,0xA9,0xAF,0xA9,0xF9,0xA9,0xAF,0xA9,0xA9,0x2F,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x02,0x22,0x22,0x12,0x12,0x0A,0x06,0x03,0x06,0x0A,0x12,0x22, 
	0x02,0x00,0x04,0x24,0x22,0x1F,0x20,0x22,0x2C,0x20,0x23,0x30,0x2C,0x23,0x20,0x00, 
	0x11,0x11,0x09,0x05,0x3F,0x21,0x13,0x05,0x09,0x15,0x13,0x21,0x21,0x00,0x20,0x20, 
	0x3F,0x20,0x20,0x20,0x3C,0x20,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x30,0x08,0x08,0x88,0x70, 
	0x00,0x30,0xC8,0x88,0x88,0xC8,0x30,0x00,0xE0,0x90,0x48,0x48,0x48,0x98,0x00,0x00, 
	0xC0,0x20,0x10,0xFC,0x00,0x00,0x00,0xFF,0x01,0x21,0x91,0xAD,0x49,0x49,0xA9,0x99, 
	0x01,0x01,0xFF,0x00,0x40,0x42,0xFE,0x42,0x42,0xFE,0x42,0x40,0x10,0x88,0x44,0x33, 
	0x00,0x00,0x20,0x42,0x04,0x88,0x00,0x84,0xE4,0x1C,0x85,0x7E,0xA4,0x24,0xE4,0x00, 
	0xC0,0x40,0x5F,0x55,0x55,0xD5,0x15,0xD5,0x55,0x55,0x5F,0x40,0xC0,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,0x0C,0x0A,0x09,0x08,0x0C, 
	0x00,0x07,0x08,0x08,0x08,0x08,0x07,0x00,0x07,0x08,0x08,0x08,0x08,0x07,0x00,0x01, 
	0x02,0x02,0x0A,0x0F,0x0A,0x00,0x00,0x3F,0x21,0x21,0x24,0x24,0x29,0x29,0x32,0x20, 
	0x21,0x21,0x3F,0x00,0x20,0x10,0x0F,0x00,0x00,0x3F,0x00,0x00,0x21,0x10,0x08,0x04, 
	0x03,0x00,0x00,0x18,0x06,0x01,0x01,0x00,0x3F,0x02,0x21,0x13,0x0C,0x13,0x20,0x00, 
	0x3F,0x12,0x12,0x12,0x12,0x3F,0x00,0x3F,0x12,0x12,0x12,0x12,0x3F,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x10,0x22,0x84,0x00,0xFE,0x02,0xFA,0x02,0xFE,0x00,0xF8,0x00, 
	0xFF,0x00,0x20,0x21,0xE6,0x00,0x08,0x48,0xC8,0x48,0x08,0xFF,0x08,0x09,0x0A,0x00, 
	0x24,0x24,0xFC,0xA2,0x22,0x00,0x9E,0x92,0x92,0x92,0x92,0x9E,0x00,0x00,0x00,0x00, 
	0xFC,0x04,0x14,0x14,0x55,0x96,0x94,0x54,0x34,0x14,0x04,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x18,0x06,0x01,0x20,0x11,0x0C,0x03,0x04,0x19,0x00,0x23,0x20, 
	0x3F,0x00,0x00,0x00,0x1F,0x08,0x14,0x10,0x1F,0x08,0x08,0x01,0x0E,0x10,0x3C,0x00, 
	0x04,0x03,0x3F,0x00,0x01,0x20,0x24,0x24,0x3F,0x24,0x24,0x24,0x20,0x00,0x20,0x18, 
	0x07,0x01,0x01,0x01,0x21,0x21,0x3F,0x01,0x01,0x05,0x03,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

void Write_Com(uchar com)  						
{	

	LCD_RS = 0;
  	LCD_RW = 0;												
	LCD_E = 0;  
	Data_Port = com;;															
	LCD_E = 1;															
	LCD_E = 0;												
}


void Write_Data(uchar dat)
{	 

	LCD_RS = 1;
	LCD_RW = 0;
	LCD_E = 0;
	Data_Port = dat;
	LCD_E = 1;;;															
	LCD_E = 0;
}



void DISP(void)
{
	Write_Com(0x3e);//显示关
	Write_Com(0x3f);//显示开
}
void WR_ZB(void)
{
	Write_Com(disp_x);//设置X地址
	Write_Com(disp_z);//设置起始行
	Write_Com(disp_y);//设置Y地址
}

/*------------------------------------------------------
函数名称：main()
函数功能：主函数
参数    ：
返回值  ：无
--------------------------------------------------------*/
void main(void)
{
	uchar aa,bb;//aa控制X地址 bb控制Y地
	ulong cc = 0;

	for(aa=0;aa<8;aa++)
	{
		LCD_CS1=1;
		LCD_CS2=0;
		DISP();
		WR_ZB();
		for(bb=0;bb<64;bb++)
		   Write_Data(dis[cc++]);
		LCD_CS1=0;
		LCD_CS2=1;
		DISP();
		WR_ZB();
		for(bb=0;bb<64;bb++)
		   Write_Data(dis[cc++]);
		disp_x++;
	}
	while(1);
		
}

